import{d as v,u as C,a_ as y,r as M,j as e,t as S,S as l,a$ as A,_ as m,X as E}from"./index-1chCkVik.js";import{u as T}from"./index-BTGpsw6g.js";import{U as _}from"./UserItem-BtiFMabj.js";import{b as k,a as D}from"./Menu-PGS1KhgP.js";import{D as H,a as I}from"./DialogTitle-CeHQprIJ.js";import{T as z}from"./TextField-CqvKc0RW.js";import{T as B}from"./Typography-gYzn-N8Q.js";import{B as u}from"./Button-Cxc8TQoW.js";import"./ListItem-KbmMo9Fm.js";import"./Menu-BaTIauzb.js";import"./Modal-hu0AyHgC.js";import"./isMuiElement-CgvdYgho.js";import"./Avatar-BdPrWYVU.js";import"./IconButton-BinniJZF.js";import"./Delete-CZiADT_9.js";const ee=({chatId:p})=>{var c;const{isNewGroup:d}=v(r=>r.misc),x=C(),{isError:f,isLoading:h,error:o,data:t}=y({chatId:p}),[g,j]=k(A),s=T(""),[a,b]=M.useState([]);D([{isError:f,error:o}]);const w=r=>{b(n=>n.includes(r)?n.filter(N=>N!==r):[...n,r])},G=()=>{if(!s.value)return m.error("Group name is required");if(a.length<2)return m.error("Please Select Atleast 3 Members");g("Creating New Group...",{name:s.value,members:a}),i()},i=()=>{x(E(!1))};return h?e.jsx(S,{}):(o&&console.log("Error in new Group : ",o),e.jsx(H,{onClose:i,open:d,children:e.jsxs(l,{p:{xs:"1rem",sm:"3rem"},width:"25rem",spacing:"2rem",children:[e.jsx(I,{textAlign:"center",variant:"h4",children:"New Group"}),e.jsx(z,{label:"Group Name",value:s.value,onChange:s.changeHandler}),e.jsx(B,{variant:"body1",children:"Members"}),e.jsx(l,{children:(c=t==null?void 0:t.friends)==null?void 0:c.map(r=>e.jsx(_,{user:r,handler:w,isAdded:a.includes(r._id)},r._id))}),e.jsxs(l,{direction:"row",justifyContent:"space-evenly",children:[e.jsx(u,{variant:"text",color:"error",size:"large",onClick:i,children:"Cancel"}),e.jsx(u,{variant:"contained",size:"large",onClick:G,disabled:j,children:"Create"})]})]})}))};export{ee as default};
