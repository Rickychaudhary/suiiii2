import{u as j,d as g,aY as w,j as e,S as c,t as y,r as N,aZ as k,Y as m}from"./index-1chCkVik.js";import{b as q,a as A}from"./Menu-PGS1KhgP.js";import{D as R,a as b}from"./DialogTitle-CeHQprIJ.js";import{T as x}from"./Typography-gYzn-N8Q.js";import{L as v}from"./ListItem-KbmMo9Fm.js";import{A as I}from"./Avatar-BdPrWYVU.js";import{B as p}from"./Button-Cxc8TQoW.js";import"./Modal-hu0AyHgC.js";import"./Menu-BaTIauzb.js";import"./isMuiElement-CgvdYgho.js";const M=()=>{var l;const i=j(),{isNotification:r}=g(s=>s.misc),{isLoading:o,data:t,error:n,isError:d}=w(),[u]=q(k),f=async({_id:s,accept:a})=>{i(m(!1)),await u("Accepting...",{requestId:s,accept:a})};A([{error:n,isError:d}]);const h=()=>i(m(!1));return e.jsx(R,{open:r,onClose:h,children:e.jsxs(c,{p:{xs:"1rem",sm:"2rem"},maxWidth:"25rem",children:[e.jsx(b,{children:"Notifications"}),o?e.jsx(y,{}):e.jsx(e.Fragment,{children:(t==null?void 0:t.allRequests.length)>0?(l=t==null?void 0:t.allRequests)==null?void 0:l.map(({sender:s,_id:a})=>e.jsx(C,{sender:s,_id:a,handler:f},a)):e.jsx(x,{textAlign:"center",children:"No new Notifications"})})]})})},C=N.memo(({sender:i,_id:r,handler:o})=>{const{name:t,avatar:n}=i;return e.jsx(v,{children:e.jsxs(c,{direction:"row",alignItems:"center",spacing:"1rem",width:"100%",children:[e.jsx(I,{src:n}),e.jsx(x,{variant:"body1",sx:{flexGlow:1,display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},children:`${t} sent you a friend request.`}),e.jsxs(c,{direction:{xs:"column",sm:"row"},children:[e.jsx(p,{onClick:()=>o({_id:r,accept:!0}),children:"Accept"}),e.jsx(p,{color:"error",onClick:()=>o({_id:r,accept:!1}),children:"Reject"})]})]})})});export{M as default};
